<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìƒí’ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
        rel="stylesheet">
  <style>
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .card-hover {
      transition: all 0.3s ease;
    }

    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    .tab-active {
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      box-shadow: 0 4px 14px 0 rgba(79, 70, 229, 0.39);
    }

    .btn-primary {
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #4338ca, #6d28d9);
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(79, 70, 229, 0.4);
    }

    .btn-success {
      background: linear-gradient(135deg, #10b981, #059669);
      transition: all 0.3s ease;
    }

    .btn-success:hover {
      background: linear-gradient(135deg, #059669, #047857);
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(16, 185, 129, 0.4);
    }

    .search-input {
      transition: all 0.3s ease;
    }

    .search-input:focus {
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .product-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .price-tag {
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-weight: 600;
    }

    .rating-badge {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
    }

    .category-badge {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
    }
  </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
  const {useState, useEffect} = React;

  const API_BASE_URL = 'http://localhost:8080';

  function App() {
    const [activeTab, setActiveTab] = useState('list');
    const [products, setProducts] = useState([]);
    const [searchResults, setSearchResults] = useState([]);
    const [suggestions, setSuggestions] = useState([]);
    const [loading, setLoading] = useState(false);

    // í˜ì´ì§€ë„¤ì´ì…˜ ìƒíƒœ
    const [currentPage, setCurrentPage] = useState(1);
    const [pageSize, setPageSize] = useState(10);
    const [hasNextPage, setHasNextPage] = useState(false);

    // ê²€ìƒ‰ ìƒíƒœ (ë‹¨ìˆœí™”)
    const [searchQuery, setSearchQuery] = useState('');
    const [searchCategory, setSearchCategory] = useState('');
    const [searchPage, setSearchPage] = useState(1);
    const [searchHasNextPage, setSearchHasNextPage] = useState(false);

    // ìë™ì™„ì„± ìƒíƒœ
    const [suggestionQuery, setSuggestionQuery] = useState('');

    // ìƒí’ˆ ìƒì„± ìƒíƒœ
    const [newProduct, setNewProduct] = useState({
      name: '',
      description: '',
      price: 0,
      rating: 0,
      category: ''
    });

    // ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
    const fetchProducts = async (page = currentPage, size = pageSize) => {
      setLoading(true);
      try {
        const response = await fetch(`${API_BASE_URL}/products?page=${page}&pageSize=${size}`);
        if (response.ok) {
          const data = await response.json();
          setProducts(data);
          setHasNextPage(data.length === size); // ë°›ì€ ë°ì´í„°ê°€ pageSizeì™€ ê°™ìœ¼ë©´ ë‹¤ìŒ í˜ì´ì§€ ìˆì„ ê°€ëŠ¥ì„±
          console.log('ìƒí’ˆ ëª©ë¡ ì¡°íšŒ ì„±ê³µ:', data);
        } else {
          console.error('ìƒí’ˆ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨:', response.status);
          alert('ìƒí’ˆ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
        }
      } catch (error) {
        console.error('ìƒí’ˆ ëª©ë¡ ì¡°íšŒ ì—ëŸ¬:', error);
        alert('ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.');
      }
      setLoading(false);
    };

    // ìƒí’ˆ ê²€ìƒ‰ (ë‹¨ìˆœí™”ëœ ë²„ì „)
    const searchProducts = async () => {
      setLoading(true);
      try {
        const params = new URLSearchParams({
          query: searchQuery,
          page: searchPage.toString(),
          pageSize: pageSize.toString()
        });

        if (searchCategory) {
          params.append('category', searchCategory);
        }

        console.log('ê²€ìƒ‰ ìš”ì²­ URL:', `${API_BASE_URL}/products/search?${params}`);

        const response = await fetch(`${API_BASE_URL}/products/search?${params}`);
        if (response.ok) {
          const data = await response.json();
          setSearchResults(data);
          setSearchHasNextPage(data.length === pageSize); // ë°›ì€ ë°ì´í„°ê°€ pageSizeì™€ ê°™ìœ¼ë©´ ë‹¤ìŒ í˜ì´ì§€ ìˆì„ ê°€ëŠ¥ì„±
          console.log('ìƒí’ˆ ê²€ìƒ‰ ì„±ê³µ:', data);
        } else {
          console.error('ìƒí’ˆ ê²€ìƒ‰ ì‹¤íŒ¨:', response.status);
          alert('ìƒí’ˆ ê²€ìƒ‰ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        }
      } catch (error) {
        console.error('ìƒí’ˆ ê²€ìƒ‰ ì—ëŸ¬:', error);
        alert('ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
      setLoading(false);
    };

    // ìë™ì™„ì„± ì œì•ˆ
    const getSuggestions = async (query) => {
      if (!query.trim()) {
        setSuggestions([]);
        return;
      }

      try {
        const url = `${API_BASE_URL}/products/suggestions?query=${encodeURIComponent(query)}`;
        console.log('ìë™ì™„ì„± ìš”ì²­ URL:', url);

        const response = await fetch(url);
        if (response.ok) {
          const data = await response.json();
          setSuggestions(data);
          console.log('ìë™ì™„ì„± ì œì•ˆ ì„±ê³µ:', data);
        } else {
          console.error('ìë™ì™„ì„± ì œì•ˆ ì‹¤íŒ¨:', response.status);
        }
      } catch (error) {
        console.error('ìë™ì™„ì„± ì—ëŸ¬:', error);
      }
    };

    // ìƒí’ˆ ìƒì„±
    const createProduct = async () => {
      setLoading(true);
      try {
        const response = await fetch(`${API_BASE_URL}/products`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(newProduct)
        });

        if (response.ok) {
          const data = await response.json();
          alert('ìƒí’ˆì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
          console.log('ìƒí’ˆ ìƒì„± ì„±ê³µ:', data);
          setNewProduct({
            name: '',
            description: '',
            price: 0,
            rating: 0,
            category: ''
          });
          // ìƒí’ˆ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
          if (activeTab === 'list') {
            fetchProducts();
          }
        } else {
          alert('ìƒí’ˆ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          console.error('ìƒí’ˆ ìƒì„± ì‹¤íŒ¨:', response.status);
        }
      } catch (error) {
        console.error('ìƒí’ˆ ìƒì„± ì—ëŸ¬:', error);
        alert('ìƒí’ˆ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
      setLoading(false);
    };

    // ìƒí’ˆ ì‚­ì œ
    const deleteProduct = async (productId) => {
      if (!confirm('ì •ë§ë¡œ ì´ ìƒí’ˆì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        return;
      }

      setLoading(true);
      try {
        const response = await fetch(`${API_BASE_URL}/products/${productId}`, {
          method: 'DELETE'
        });

        if (response.ok) {
          alert('ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
          console.log('ìƒí’ˆ ì‚­ì œ ì„±ê³µ:', productId);
          // ìƒí’ˆ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
          if (activeTab === 'list') {
            fetchProducts();
          } else if (activeTab === 'search') {
            searchProducts();
          }
        } else {
          alert('ìƒí’ˆ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          console.error('ìƒí’ˆ ì‚­ì œ ì‹¤íŒ¨:', response.status);
        }
      } catch (error) {
        console.error('ìƒí’ˆ ì‚­ì œ ì—ëŸ¬:', error);
        alert('ìƒí’ˆ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      }
      setLoading(false);
    };

    // ì´ˆê¸° ë¡œë“œ
    useEffect(() => {
      if (activeTab === 'list') {
        fetchProducts();
      }
    }, [activeTab, currentPage, pageSize]);

    // ìë™ì™„ì„± ë””ë°”ìš´ì‹±
    useEffect(() => {
      const timer = setTimeout(() => {
        if (suggestionQuery.trim()) {
          getSuggestions(suggestionQuery);
        } else {
          setSuggestions([]);
        }
      }, 300);

      return () => clearTimeout(timer);
    }, [suggestionQuery]);

    const ProductCard = ({product, isSearchResult = false}) => (
        <div className="product-card card-hover rounded-xl p-6 mb-6 shadow-lg">
          <div className="flex justify-between items-start">
            <div className="flex-1">
              <h3 className="text-xl font-bold text-gray-800 mb-3">
                {isSearchResult ? (
                    <span dangerouslySetInnerHTML={{__html: product.name}}/>
                ) : (
                    product.name
                )}
              </h3>
              <p className="text-gray-600 mb-4 leading-relaxed">{product.description}</p>
              <div className="flex items-center gap-3 flex-wrap">
                <span className="price-tag">â‚©{product.price?.toLocaleString()}</span>
                <span className="rating-badge">â­ {product.rating}</span>
                <span className="category-badge">{product.category}</span>
                <span
                    className="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded">ID: {product.id}</span>
              </div>
            </div>
            <button
                onClick={() => deleteProduct(product.id)}
                className="ml-6 p-3 text-red-500 hover:bg-red-50 rounded-xl transition-all duration-300 hover:scale-110"
                disabled={loading}
                title="ì‚­ì œ"
            >
              <span className="text-xl">ğŸ—‘ï¸</span>
            </button>
          </div>
        </div>
    );

    return (
        <div className="min-h-screen gradient-bg">
          <div className="max-w-7xl mx-auto p-6">
            <div className="text-center mb-10">
              <h1 className="text-5xl font-bold text-white mb-4 drop-shadow-lg">
                ğŸ›’ ìƒí’ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ
              </h1>
              <p className="text-xl text-white opacity-90">í˜„ëŒ€ì ì´ê³  ê°•ë ¥í•œ ìƒí’ˆ ê´€ë¦¬ í”Œë«í¼</p>
            </div>

            {/* ì„œë²„ ì—°ê²° ìƒíƒœ í‘œì‹œ */}
            <div
                className="bg-white bg-opacity-20 backdrop-filter backdrop-blur-lg border border-white border-opacity-30 rounded-xl p-4 mb-8 text-white">
              <p className="text-sm">
                <strong>ğŸŒ ì„œë²„ ì£¼ì†Œ:</strong> {API_BASE_URL}
                <span className="ml-4">ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”!</span>
              </p>
            </div>

            {/* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */}
            <div
                className="flex space-x-2 mb-8 bg-white bg-opacity-20 backdrop-filter backdrop-blur-lg rounded-xl p-2">
              {[
                {id: 'list', label: 'ğŸ“‹ ìƒí’ˆ ëª©ë¡'},
                {id: 'search', label: 'ğŸ” ìƒí’ˆ ê²€ìƒ‰'},
                {id: 'suggestions', label: 'ğŸ’¡ ìë™ì™„ì„±'},
                {id: 'create', label: 'â• ìƒí’ˆ ìƒì„±'}
              ].map(tab => (
                  <button
                      key={tab.id}
                      onClick={() => setActiveTab(tab.id)}
                      className={`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${
                          activeTab === tab.id
                              ? 'tab-active text-white transform scale-105'
                              : 'bg-white bg-opacity-70 text-gray-700 hover:bg-opacity-90 hover:transform hover:scale-105'
                      }`}
                  >
                    {tab.label}
                  </button>
              ))}
            </div>

            {/* ìƒí’ˆ ëª©ë¡ íƒ­ */}
            {activeTab === 'list' && (
                <div
                    className="bg-white bg-opacity-95 backdrop-filter backdrop-blur-lg rounded-xl p-8 shadow-xl">
                  <div className="flex justify-between items-center mb-8">
                    <h2 className="text-3xl font-bold text-gray-800">ğŸ“‹ ìƒí’ˆ ëª©ë¡</h2>
                    <div className="flex items-center gap-4">
                      <select
                          value={pageSize}
                          onChange={(e) => setPageSize(Number(e.target.value))}
                          className="search-input border-2 border-gray-200 rounded-lg px-4 py-2 focus:border-purple-500 focus:outline-none"
                      >
                        <option value={5}>5ê°œì”©</option>
                        <option value={10}>10ê°œì”©</option>
                        <option value={20}>20ê°œì”©</option>
                      </select>
                      <button
                          onClick={() => fetchProducts()}
                          disabled={loading}
                          className="btn-primary text-white px-6 py-2 rounded-lg disabled:opacity-50 font-medium"
                      >
                        {loading ? 'â³ ë¡œë”©...' : 'ğŸ”„ ìƒˆë¡œê³ ì¹¨'}
                      </button>
                    </div>
                  </div>

                  {loading ? (
                      <div className="text-center py-16">
                        <div className="text-2xl">â³</div>
                        <p className="text-gray-600 mt-4">ë¡œë”© ì¤‘...</p>
                      </div>
                  ) : products.length === 0 ? (
                      <div className="text-center py-16">
                        <div className="text-6xl mb-4">ğŸ“¦</div>
                        <p className="text-gray-600 text-lg">ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p className="text-gray-500">ë¨¼ì € "ìƒí’ˆ ìƒì„±" íƒ­ì—ì„œ ìƒí’ˆì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
                      </div>
                  ) : (
                      <>
                        <div className="mb-6 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg">
                          ğŸ“Š ì´ {products.length}ê°œ ìƒí’ˆ (í˜ì´ì§€ {currentPage})
                        </div>
                        {products.map(product => (
                            <ProductCard key={product.id} product={product}/>
                        ))}

                        <div className="flex justify-center items-center gap-4 mt-8">
                          <button
                              onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}
                              disabled={currentPage === 1 || loading}
                              className="px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all duration-300 font-medium"
                          >
                            â¬…ï¸ ì´ì „
                          </button>
                          <span
                              className="px-6 py-3 bg-purple-100 text-purple-700 rounded-lg font-medium">
                                                í˜ì´ì§€ {currentPage}
                                            </span>
                          {hasNextPage && (
                              <button
                                  onClick={() => setCurrentPage(currentPage + 1)}
                                  disabled={loading}
                                  className="px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all duration-300 font-medium"
                              >
                                ë‹¤ìŒ â¡ï¸
                              </button>
                          )}
                        </div>
                      </>
                  )}
                </div>
            )}

            {/* ìƒí’ˆ ê²€ìƒ‰ íƒ­ (ë‹¨ìˆœí™”) */}
            {activeTab === 'search' && (
                <div
                    className="bg-white bg-opacity-95 backdrop-filter backdrop-blur-lg rounded-xl p-8 shadow-xl">
                  <h2 className="text-3xl font-bold text-gray-800 mb-8">ğŸ” ìƒí’ˆ ê²€ìƒ‰</h2>

                  <div
                      className="bg-gradient-to-r from-purple-50 to-blue-50 p-8 rounded-xl mb-8 shadow-inner">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                      <div>
                        <label className="block text-lg font-semibold text-gray-700 mb-3">ğŸ”
                          ê²€ìƒ‰ì–´</label>
                        <input
                            type="text"
                            value={searchQuery}
                            onChange={(e) => setSearchQuery(e.target.value)}
                            placeholder="ìƒí’ˆëª…, ì„¤ëª… ë“±ì„ ì…ë ¥í•˜ì„¸ìš”..."
                            className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                        />
                      </div>

                      <div>
                        <label className="block text-lg font-semibold text-gray-700 mb-3">ğŸ·ï¸
                          ì¹´í…Œê³ ë¦¬</label>
                        <input
                            type="text"
                            value={searchCategory}
                            onChange={(e) => setSearchCategory(e.target.value)}
                            placeholder="ì¹´í…Œê³ ë¦¬ (ì„ íƒì‚¬í•­)"
                            className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                        />
                      </div>
                    </div>

                    <div className="flex justify-center">
                      <button
                          onClick={searchProducts}
                          disabled={loading || !searchQuery.trim()}
                          className="btn-success text-white px-8 py-4 rounded-xl disabled:opacity-50 flex items-center gap-3 font-semibold text-lg"
                      >
                        ğŸ” {loading ? 'ê²€ìƒ‰ ì¤‘...' : 'ê²€ìƒ‰í•˜ê¸°'}
                      </button>
                    </div>
                  </div>

                  {loading ? (
                      <div className="text-center py-16">
                        <div className="text-2xl">â³</div>
                        <p className="text-gray-600 mt-4">ê²€ìƒ‰ ì¤‘...</p>
                      </div>
                  ) : searchResults.length === 0 && searchQuery ? (
                      <div className="text-center py-16">
                        <div className="text-6xl mb-4">âŒ</div>
                        <p className="text-gray-600 text-lg">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p className="text-gray-500">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ì‹œë„í•´ë³´ì„¸ìš”.</p>
                      </div>
                  ) : searchResults.length > 0 ? (
                      <>
                        <div className="mb-6 text-sm text-gray-600 bg-green-50 p-3 rounded-lg">
                          âœ… ê²€ìƒ‰ ê²°ê³¼: {searchResults.length}ê°œ (í˜ì´ì§€ {searchPage})
                        </div>
                        {searchResults.map(product => (
                            <ProductCard key={product.id} product={product} isSearchResult={true}/>
                        ))}

                        <div className="flex justify-center items-center gap-4 mt-8">
                          <button
                              onClick={() => setSearchPage(Math.max(1, searchPage - 1))}
                              disabled={searchPage === 1 || loading}
                              className="px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all duration-300 font-medium"
                          >
                            â¬…ï¸ ì´ì „ í˜ì´ì§€
                          </button>
                          <span
                              className="px-6 py-3 bg-green-100 text-green-700 rounded-lg font-medium">
                                                í˜ì´ì§€ {searchPage}
                                            </span>
                          {searchHasNextPage && (
                              <button
                                  onClick={() => setSearchPage(searchPage + 1)}
                                  disabled={loading}
                                  className="px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 transition-all duration-300 font-medium"
                              >
                                ë‹¤ìŒ í˜ì´ì§€ â¡ï¸
                              </button>
                          )}
                        </div>
                      </>
                  ) : null}
                </div>
            )}

            {/* ìë™ì™„ì„± íƒ­ */}
            {activeTab === 'suggestions' && (
                <div
                    className="bg-white bg-opacity-95 backdrop-filter backdrop-blur-lg rounded-xl p-8 shadow-xl">
                  <h2 className="text-3xl font-bold text-gray-800 mb-8">ğŸ’¡ ìë™ì™„ì„± í…ŒìŠ¤íŠ¸</h2>

                  <div
                      className="bg-gradient-to-r from-yellow-50 to-orange-50 p-8 rounded-xl mb-8 shadow-inner">
                    <label className="block text-lg font-semibold text-gray-700 mb-3">
                      âœ¨ ê²€ìƒ‰ì–´ ì…ë ¥ (ìë™ì™„ì„±)
                    </label>
                    <input
                        type="text"
                        value={suggestionQuery}
                        onChange={(e) => setSuggestionQuery(e.target.value)}
                        placeholder="ìƒí’ˆëª… ì¼ë¶€ ì…ë ¥... (ì˜ˆ: ê°¤ëŸ­, ì•„ì´í°, ì‚¼ì„±)"
                        className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                    />
                    <p className="text-sm text-gray-500 mt-2">
                      â±ï¸ ì…ë ¥í•˜ë©´ 0.3ì´ˆ í›„ ìë™ìœ¼ë¡œ ì œì•ˆì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
                    </p>
                  </div>

                  {suggestions.length > 0 && (
                      <div className="bg-white rounded-xl shadow-lg overflow-hidden">
                        <h3 className="text-xl font-bold p-6 border-b bg-gradient-to-r from-purple-500 to-blue-500 text-white">
                          ğŸ’¡ ìë™ì™„ì„± ì œì•ˆ ({suggestions.length}ê°œ)
                        </h3>
                        <ul className="divide-y divide-gray-200">
                          {suggestions.map((suggestion, index) => (
                              <li key={index}
                                  className="p-4 hover:bg-gray-50 transition-colors duration-200 cursor-pointer">
                                                    <span
                                                        dangerouslySetInnerHTML={{__html: suggestion}}
                                                        className="text-lg"
                                                    />
                              </li>
                          ))}
                        </ul>
                      </div>
                  )}

                  {suggestionQuery && suggestions.length === 0 && (
                      <div className="text-center py-16">
                        <div className="text-6xl mb-4">ğŸ¤”</div>
                        <p className="text-gray-600 text-lg">"{suggestionQuery}"ì— ëŒ€í•œ ì œì•ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p className="text-gray-500">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.</p>
                      </div>
                  )}
                </div>
            )}

            {/* ìƒí’ˆ ìƒì„± íƒ­ */}
            {activeTab === 'create' && (
                <div
                    className="bg-white bg-opacity-95 backdrop-filter backdrop-blur-lg rounded-xl p-8 shadow-xl">
                  <h2 className="text-3xl font-bold text-gray-800 mb-8">â• ìƒˆ ìƒí’ˆ ìƒì„±</h2>

                  <div
                      className="bg-gradient-to-r from-green-50 to-blue-50 p-8 rounded-xl shadow-inner">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      <div>
                        <label className="block text-lg font-semibold text-gray-700 mb-3">ğŸ“ ìƒí’ˆëª…
                          *</label>
                        <input
                            type="text"
                            value={newProduct.name}
                            onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}
                            placeholder="ì˜ˆ: ê°¤ëŸ­ì‹œ S24, ì•„ì´í° 15"
                            className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                        />
                      </div>

                      <div>
                        <label className="block text-lg font-semibold text-gray-700 mb-3">ğŸ·ï¸ ì¹´í…Œê³ ë¦¬
                          *</label>
                        <input
                            type="text"
                            value={newProduct.category}
                            onChange={(e) => setNewProduct(
                                {...newProduct, category: e.target.value})}
                            placeholder="ì˜ˆ: ìŠ¤ë§ˆíŠ¸í°, ë…¸íŠ¸ë¶, ì „ìì œí’ˆ"
                            className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                        />
                      </div>

                      <div>
                        <label className="block text-lg font-semibold text-gray-700 mb-3">ğŸ’° ê°€ê²©
                          *</label>
                        <input
                            type="number"
                            value={newProduct.price}
                            onChange={(e) => setNewProduct(
                                {...newProduct, price: Number(e.target.value)})}
                            min="0"
                            placeholder="ì˜ˆ: 1000000"
                            className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                        />
                      </div>

                      <div>
                        <label className="block text-lg font-semibold text-gray-700 mb-3">â­ í‰ì  (0-5)
                          *</label>
                        <input
                            type="number"
                            value={newProduct.rating}
                            onChange={(e) => setNewProduct(
                                {...newProduct, rating: Number(e.target.value)})}
                            min="0"
                            max="5"
                            step="0.1"
                            placeholder="ì˜ˆ: 4.5"
                            className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg"
                        />
                      </div>
                    </div>

                    <div className="mt-6">
                      <label className="block text-lg font-semibold text-gray-700 mb-3">ğŸ“„ ìƒí’ˆ
                        ì„¤ëª…</label>
                      <textarea
                          value={newProduct.description}
                          onChange={(e) => setNewProduct(
                              {...newProduct, description: e.target.value})}
                          rows="4"
                          placeholder="ìƒí’ˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”..."
                          className="search-input w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-purple-500 focus:outline-none text-lg resize-none"
                      />
                    </div>

                    <div className="mt-8 text-center">
                      <button
                          onClick={createProduct}
                          disabled={loading || !newProduct.name.trim()
                              || !newProduct.category.trim()}
                          className="btn-primary text-white px-8 py-4 rounded-xl disabled:opacity-50 flex items-center gap-3 font-semibold text-lg mx-auto"
                      >
                        â• {loading ? 'ìƒì„± ì¤‘...' : 'ìƒí’ˆ ìƒì„±'}
                      </button>
                      <p className="text-sm text-gray-500 mt-4">
                        * ìƒí’ˆëª…ê³¼ ì¹´í…Œê³ ë¦¬ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.
                      </p>
                    </div>
                  </div>
                </div>
            )}
          </div>
        </div>
    );
  }

  // React 18 ë°©ì‹ìœ¼ë¡œ ë Œë”ë§
  const root = ReactDOM.createRoot(document.getElementById('root'));
  root.render(<App/>);
</script>
</body>
</html>
